{% extends "base.html" %}

{% load static %}

{% block title %}Messages | Admin{% endblock %}

{% block content %}

<section class="container" style="margin-top: 80px;">
  <h1>Messages</h1>
  <p class="muted">All contact form submissions</p>
</section>

<section class="container" style="margin-top: 40px;">

  {% if messages_list %}
    <table class="manage-table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Email</th>
          <th>Subject</th>
          <th>Date</th>
          <th>Action</th>
        </tr>
      </thead>

      <tbody>
        {% for msg in messages_list %}
          <tr>
            <td>{{ msg.name }}</td>
            <td>{{ msg.email }}</td>
            <td>{{ msg.subject|default:"â€”" }}</td>
            <td>{{ msg.created_at|date:"d M Y" }}</td>
            <td>
              <a href="{% url 'message_detail' msg.id %}" class="btn small">
                View
              </a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p class="muted">No messages received yet.</p>
  {% endif %}

</section>

{% endblock %}
